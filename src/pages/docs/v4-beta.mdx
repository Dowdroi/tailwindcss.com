---
section: Prerelease Documentation
title: Tailwind CSS v4.0 Beta
description: Preview what's coming in the next version of Tailwind CSS.
---

import { Heading } from '@/components/Heading'
import { TipGood, TipBad } from '@/components/Tip'

export function ColorPalette() {
  const colors = {
    red: {
      '50': 'oklch(0.971 0.013 17.38)',
      '100': 'oklch(0.936 0.032 17.717)',
      '200': 'oklch(0.885 0.062 18.334)',
      '300': 'oklch(0.808 0.114 19.571)',
      '400': 'oklch(0.704 0.191 22.216)',
      '500': 'oklch(0.637 0.237 25.331)',
      '600': 'oklch(0.577 0.245 27.325)',
      '700': 'oklch(0.505 0.213 27.518)',
      '800': 'oklch(0.444 0.177 26.899)',
      '900': 'oklch(0.396 0.141 25.723)',
      '950': 'oklch(0.258 0.092 26.042)',
    },
    orange: {

      '50': 'oklch(0.98 0.016 73.684)',
      '100': 'oklch(0.954 0.038 75.164)',
      '200': 'oklch(0.901 0.076 70.697)',
      '300': 'oklch(0.837 0.128 66.29)',
      '400': 'oklch(0.75 0.183 55.934)',
      '500': 'oklch(0.705 0.213 47.604)',
      '600': 'oklch(0.646 0.222 41.116)',
      '700': 'oklch(0.553 0.195 38.402)',
      '800': 'oklch(0.47 0.157 37.304)',
      '900': 'oklch(0.408 0.123 38.172)',
      '950': 'oklch(0.266 0.079 36.259)',
    },
    amber: {
      '50': 'oklch(0.987 0.022 95.277)',
      '100': 'oklch(0.962 0.059 95.617)',
      '200': 'oklch(0.924 0.12 95.746)',
      '300': 'oklch(0.879 0.169 91.605)',
      '400': 'oklch(0.828 0.189 84.429)',
      '500': 'oklch(0.769 0.188 70.08)',
      '600': 'oklch(0.666 0.179 58.318)',
      '700': 'oklch(0.555 0.163 48.998)',
      '800': 'oklch(0.473 0.137 46.201)',
      '900': 'oklch(0.414 0.112 45.904)',
      '950': 'oklch(0.279 0.077 45.635)',
    },
    yellow: {
      "50": 'oklch(0.987 0.026 102.212)',
      "100": 'oklch(0.973 0.071 103.193)',
      "200": 'oklch(0.945 0.129 101.54)',
      "300": 'oklch(0.905 0.182 98.111)',
      "400": 'oklch(0.852 0.199 91.936)',
      "500": 'oklch(0.795 0.184 86.047)',
      "600": 'oklch(0.681 0.162 75.834)',
      "700": 'oklch(0.554 0.135 66.442)',
      "800": 'oklch(0.476 0.114 61.907)',
      "900": 'oklch(0.421 0.095 57.708)',
      "950": 'oklch(0.286 0.066 53.813)',
    },


    'lime': {

      '50': 'oklch(0.986 0.031 120.757)',
      '100': 'oklch(0.967 0.067 122.328)',
      '200': 'oklch(0.938 0.127 124.321)',
      '300': 'oklch(0.897 0.196 126.665)',
      '400': 'oklch(0.841 0.238 128.85)',
      '500': 'oklch(0.768 0.233 130.85)',
      '600': 'oklch(0.648 0.2 131.684)',
      '700': 'oklch(0.532 0.157 131.589)',
      '800': 'oklch(0.453 0.124 130.933)',
      '900': 'oklch(0.405 0.101 131.063)',
      '950': 'oklch(0.274 0.072 132.109)',
    },

    'green': {

      '50': 'oklch(0.982 0.018 155.826)',
      '100': 'oklch(0.962 0.044 156.743)',
      '200': 'oklch(0.925 0.084 155.995)',
      '300': 'oklch(0.871 0.15 154.449)',
      '400': 'oklch(0.792 0.209 151.711)',
      '500': 'oklch(0.723 0.219 149.579)',
      '600': 'oklch(0.627 0.194 149.214)',
      '700': 'oklch(0.527 0.154 150.069)',
      '800': 'oklch(0.448 0.119 151.328)',
      '900': 'oklch(0.393 0.095 152.535)',
      '950': 'oklch(0.266 0.065 152.934)',
    },

    'emerald': {

      '50': 'oklch(0.979 0.021 166.113)',
      '100': 'oklch(0.95 0.052 163.051)',
      '200': 'oklch(0.905 0.093 164.15)',
      '300': 'oklch(0.845 0.143 164.978)',
      '400': 'oklch(0.765 0.177 163.223)',
      '500': 'oklch(0.696 0.17 162.48)',
      '600': 'oklch(0.596 0.145 163.225)',
      '700': 'oklch(0.508 0.118 165.612)',
      '800': 'oklch(0.432 0.095 166.913)',
      '900': 'oklch(0.378 0.077 168.94)',
      '950': 'oklch(0.262 0.051 172.552)',
    },

    'teal': {

      '50': 'oklch(0.984 0.014 180.72)',
      '100': 'oklch(0.953 0.051 180.801)',
      '200': 'oklch(0.91 0.096 180.426)',
      '300': 'oklch(0.855 0.138 181.071)',
      '400': 'oklch(0.777 0.152 181.912)',
      '500': 'oklch(0.704 0.14 182.503)',
      '600': 'oklch(0.6 0.118 184.704)',
      '700': 'oklch(0.511 0.096 186.391)',
      '800': 'oklch(0.437 0.078 188.216)',
      '900': 'oklch(0.386 0.063 188.416)',
      '950': 'oklch(0.277 0.046 192.524)',
    },

    'cyan': {

      '50': 'oklch(0.984 0.019 200.873)',
      '100': 'oklch(0.956 0.045 203.388)',
      '200': 'oklch(0.917 0.08 205.041)',
      '300': 'oklch(0.865 0.127 207.078)',
      '400': 'oklch(0.789 0.154 211.53)',
      '500': 'oklch(0.715 0.143 215.221)',
      '600': 'oklch(0.609 0.126 221.723)',
      '700': 'oklch(0.52 0.105 223.128)',
      '800': 'oklch(0.45 0.085 224.283)',
      '900': 'oklch(0.398 0.07 227.392)',
      '950': 'oklch(0.302 0.056 229.695)',
    },

    'sky': {

      '50': 'oklch(0.977 0.013 236.62)',
      '100': 'oklch(0.951 0.026 236.824)',
      '200': 'oklch(0.901 0.058 230.902)',
      '300': 'oklch(0.828 0.111 230.318)',
      '400': 'oklch(0.746 0.16 232.661)',
      '500': 'oklch(0.685 0.169 237.323)',
      '600': 'oklch(0.588 0.158 241.966)',
      '700': 'oklch(0.5 0.134 242.749)',
      '800': 'oklch(0.443 0.11 240.79)',
      '900': 'oklch(0.391 0.09 240.876)',
      '950': 'oklch(0.293 0.066 243.157)',
    },

    'blue': {

      '50': 'oklch(0.97 0.014 254.604)',
      '100': 'oklch(0.932 0.032 255.585)',
      '200': 'oklch(0.882 0.059 254.128)',
      '300': 'oklch(0.809 0.105 251.813)',
      '400': 'oklch(0.707 0.165 254.624)',
      '500': 'oklch(0.623 0.214 259.815)',
      '600': 'oklch(0.546 0.245 262.881)',
      '700': 'oklch(0.488 0.243 264.376)',
      '800': 'oklch(0.424 0.199 265.638)',
      '900': 'oklch(0.379 0.146 265.522)',
      '950': 'oklch(0.282 0.091 267.935)',
    },

    'indigo': {

      '50': 'oklch(0.962 0.018 272.314)',
      '100': 'oklch(0.93 0.034 272.788)',
      '200': 'oklch(0.87 0.065 274.039)',
      '300': 'oklch(0.785 0.115 274.713)',
      '400': 'oklch(0.673 0.182 276.935)',
      '500': 'oklch(0.585 0.233 277.117)',
      '600': 'oklch(0.511 0.262 276.966)',
      '700': 'oklch(0.457 0.24 277.023)',
      '800': 'oklch(0.398 0.195 277.366)',
      '900': 'oklch(0.359 0.144 278.697)',
      '950': 'oklch(0.257 0.09 281.288)',
    },

    'violet': {

      '50': 'oklch(0.969 0.016 293.756)',
      '100': 'oklch(0.943 0.029 294.588)',
      '200': 'oklch(0.894 0.057 293.283)',
      '300': 'oklch(0.811 0.111 293.571)',
      '400': 'oklch(0.702 0.183 293.541)',
      '500': 'oklch(0.606 0.25 292.717)',
      '600': 'oklch(0.541 0.281 293.009)',
      '700': 'oklch(0.491 0.27 292.581)',
      '800': 'oklch(0.432 0.232 292.759)',
      '900': 'oklch(0.38 0.189 293.745)',
      '950': 'oklch(0.283 0.141 291.089)',
    },

    'purple': {

      '50': 'oklch(0.977 0.014 308.299)',
      '100': 'oklch(0.946 0.033 307.174)',
      '200': 'oklch(0.902 0.063 306.703)',
      '300': 'oklch(0.827 0.119 306.383)',
      '400': 'oklch(0.714 0.203 305.504)',
      '500': 'oklch(0.627 0.265 303.9)',
      '600': 'oklch(0.558 0.288 302.321)',
      '700': 'oklch(0.496 0.265 301.924)',
      '800': 'oklch(0.438 0.218 303.724)',
      '900': 'oklch(0.381 0.176 304.987)',
      '950': 'oklch(0.291 0.149 302.717)',
    },

    'fuchsia': {

      '50': 'oklch(0.977 0.017 320.058)',
      '100': 'oklch(0.952 0.037 318.852)',
      '200': 'oklch(0.903 0.076 319.62)',
      '300': 'oklch(0.833 0.145 321.434)',
      '400': 'oklch(0.74 0.238 322.16)',
      '500': 'oklch(0.667 0.295 322.15)',
      '600': 'oklch(0.591 0.293 322.896)',
      '700': 'oklch(0.518 0.253 323.949)',
      '800': 'oklch(0.452 0.211 324.591)',
      '900': 'oklch(0.401 0.17 325.612)',
      '950': 'oklch(0.293 0.136 325.661)',
    },

    'pink': {

      '50': 'oklch(0.971 0.014 343.198)',
      '100': 'oklch(0.948 0.028 342.258)',
      '200': 'oklch(0.899 0.061 343.231)',
      '300': 'oklch(0.823 0.12 346.018)',
      '400': 'oklch(0.718 0.202 349.761)',
      '500': 'oklch(0.656 0.241 354.308)',
      '600': 'oklch(0.592 0.249 0.584)',
      '700': 'oklch(0.525 0.223 3.958)',
      '800': 'oklch(0.459 0.187 3.815)',
      '900': 'oklch(0.408 0.153 2.432)',
      '950': 'oklch(0.284 0.109 3.907)',
    },

    'rose': {

      '50': 'oklch(0.969 0.015 12.422)',
      '100': 'oklch(0.941 0.03 12.58)',
      '200': 'oklch(0.892 0.058 10.001)',
      '300': 'oklch(0.81 0.117 11.638)',
      '400': 'oklch(0.712 0.194 13.428)',
      '500': 'oklch(0.645 0.246 16.439)',
      '600': 'oklch(0.586 0.253 17.585)',
      '700': 'oklch(0.514 0.222 16.935)',
      '800': 'oklch(0.455 0.188 13.697)',
      '900': 'oklch(0.41 0.159 10.272)',
      '950': 'oklch(0.271 0.105 12.094)',
    }
  }

  return <div className="grid grid-cols-[repeat(17,minmax(0,1fr))] gap-1 md:gap-2">
    {
      Object.entries(colors).map(([color, values]) =>
        <div className="grid grid-cols-1 gap-2">
          {Object.values(values).map(value =>
            <div className="aspect-square rounded" style={{backgroundColor:value}}/>
          )}
        </div>
      )
    }
    </div>
}

{/*
- Introduction, has a graphic or code sample
- Link to blog post
- Summarize improvements
- Talk about upgrade + link to upgrade section
- Mention breaking changes, link to those
*/}


## Getting started

### Installing with Vite

If you're using Vite or a Vite-powered framework like SvelteKit or Remix, install Tailwind along with our new dedicated Vite plugin:

```bash {{ filename: 'Terminal' }}
$ npm install tailwindcss@next @tailwindcss/vite@next
```

Next, add our Vite plugin to your `vite.config.ts` file:

```ts {{ filename: 'vite.config.ts' }}
  import { defineConfig } from 'vite';
> import tailwindcss from '@tailwindcss/vite';

  export default defineConfig({
    plugins: [
>     tailwindcss()
    ],
  });
```

Finally, import Tailwind into your main CSS file:

```css  {{ filename: 'src/index.css' }}
> @import "tailwindcss";
```

### Installing with PostCSS

If your project uses PostCSS or you're using a framework like Next.js that supports PostCSS plugins, install Tailwind along with our new dedicated PostCSS plugin:

```bash {{ filename: 'Terminal' }}
$ npm install tailwindcss@next @tailwindcss/postcss@next
```

Next, add our PostCSS plugin to your `postcss.config.js` file:

```js {{ filename: 'postcss.config.mjs' }}
  export default {
    plugins: {
>     '@tailwindcss/postcss': {},
    },
  };
```

Finally, import Tailwind into your main CSS file:

```css  {{ filename: 'app.css' }}
> @import "tailwindcss";
```

### Installing the CLI

If you want to use our dedicated CLI tool, install Tailwind along with our new dedicated CLI package:

```bash {{ filename: 'Terminal' }}
$ npm install tailwindcss@next @tailwindcss/cli@next
```

Next, import Tailwind into your main CSS file:

```css  {{ filename: 'app.css' }}
> @import "tailwindcss";
```

Then compile your CSS using the CLI tool:
```bash {{ filename: 'Terminal' }}
$ npx @tailwindcss/cli -i input.css -o output.css
```

You can also download [standalone builds](https://github.com/tailwindlabs/tailwindcss/releases/tag/v4.0.0-beta-1) of the new CLI tool from GitHub for projects that don't otherwise depend on the Node.js ecosystem.

### Upgrading from v3

If you'd like to try upgrading a project from v3 to the v4 beta releases, you can use our upgrade tool to do the vast majority of the heavy lifting for you:

```bash {{ filename: 'Terminal' }}
$ npx @tailwindcss/upgrade@next
```

For most projects, the upgrade tool will automate the entire migration process including:

- **Updating dependencies** like Tailwind itself, adding the new PostCSS plugin, updating our Prettier plugin if you have it installed, and removing dependencies that are no longer needed like `postcss-import` and `autoprefixer`.
- **Replacing `@tailwind` directives with `@import "tailwindcss"`** to modernize your project.
- **Migrating your config file to CSS** if possible, or updating your CSS to import your config file with `@config`.
- **Replacing deprecated utility classes** with their v4 equivalents, like renaming `outline-none` to `outline-hidden`.
- **Updating your variant order** so that order-sensitive variants in your utilities are sorted from left to right instead of right to left.
- **Replacing `theme(…)` with `var(…)`** where possible, taking advantage of the CSS variables generated in v4.0 by default.
- **Migrating to the new variable shorthand syntax**, updating utilities like `bg-[--my-color]` to `bg-(--my-color)`.
- **Adding compatibility base styles for Preflight changes**, so your project looks the same after upgrading.
- **Updating custom utilities to use `@utility`** instead of just custom classes in the `utilities` layer.
- **Updating existing imports to use layers** to make sure your custom styles behave as expected with Tailwind's layered styles.

**We recommend running the upgrade tool in a new branch**, then carefully reviewing the diff and testing your project in the browser to make sure all of the changes look correct. You may need to tweak a few things by hand in complex projects, but the tool will save you a ton of time either way.

It's also a good idea to go over all of the [breaking changes](#breaking-changes) in v4.0 and get a good understanding of what's changed, in case there are other things you need to update in your project that the upgrade tool doesn't catch.


---

## What's new in v4.0

### CSS-first configuration

One of the biggest changes in Tailwind CSS v4.0 is the shift from configuring your project in JavaScript to configuring it in CSS.

Instead of a `tailwind.config.js` file, you can configure all of your customizations directly in the CSS file where you import Tailwind, giving you one less file to worry about in your project:

```css  {{ filename: 'app.css', style: 'framed', color: 'sky' }}
@import "tailwindcss";

@theme {
  --font-display: "Satoshi", "sans-serif";

  --breakpoint-3xl: 1920px;

  --color-avocado-100: oklch(0.99 0 0);
  --color-avocado-200: oklch(0.98 0.04 113.22);
  --color-avocado-300: oklch(0.94 0.11 115.03);
  --color-avocado-400: oklch(0.92 0.19 114.08);
  --color-avocado-500: oklch(0.84 0.18 117.33);
  --color-avocado-600: oklch(0.53 0.12 118.34);

  --ease-fluid: cubic-bezier(0.3, 0, 0, 1);
  --ease-snappy: cubic-bezier(0.2, 0, 0, 1);

  /* ... */
}
```

The new CSS-first configuration lets you do just about everything you could do in your `tailwind.config.js` file, including configuring your design tokens, setting up content sources, defining custom utilities and variants, installing plugins, and more.

To learn more about how it all works, read the [CSS configuration in-depth](#css-configuration-in-depth) documentation.

### CSS theme variables

Tailwind CSS v4.0 takes all of your design tokens and makes them available as CSS variables by default, so you can reference any value you need at run-time using just CSS.

Using the example `@theme` from earlier, all of these values will be added to your CSS to as regular custom properties:

```css {{ filename: 'dist.css', style: 'framed', color: 'indigo' }}
:root {
  --font-display: "Satoshi", "sans-serif";

  --breakpoint-3xl: 1920px;

  --color-avocado-100: oklch(0.99 0 0);
  --color-avocado-200: oklch(0.98 0.04 113.22);
  --color-avocado-300: oklch(0.94 0.11 115.03);
  --color-avocado-400: oklch(0.92 0.19 114.08);
  --color-avocado-500: oklch(0.84 0.18 117.33);
  --color-avocado-600: oklch(0.53 0.12 118.34);

  --ease-fluid: cubic-bezier(0.3, 0, 0, 1);
  --ease-snappy: cubic-bezier(0.2, 0, 0, 1);

  /* ... */
}
```

This makes it easy to reuse these values as inline styles or pass them to libraries like [Motion](https://motion.dev/docs/react-animation#css-variables) to animate them.

### Native CSS cascade layers

We're using real [CSS cascade layers](https://developer.mozilla.org/en-US/docs/Web/CSS/@layer) in v4.0, which make it easier than ever to control the precedence of styles and how they interact with each other.

```css {{ filename: 'dist.css', style: 'framed', color: 'purple', scroll: true }}
@layer theme, base, components, utilities;

@layer theme {
  :root {
    --font-sans: ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
    'Segoe UI Symbol', 'Noto Color Emoji';
    --font-serif: ui-serif, Georgia, Cambria, 'Times New Roman', Times, serif;
    --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono',
      'Courier New', monospace;

    /* ... */
  }
}

@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    border: 0 solid;
  }

  /* ... */
}

@layer utilities {
  .pointer-events-none {
    pointer-events: none;
  }
  .visibility-hidden {
    visibility: hidden;
  }

  /* ... */

  .focus\:outline:focus {
    outline-width: 1px;
  }

  @media (width >= 40rem) {
    @media (hover: hover) {
      .sm\:hover\:opacity-100:hover {
        opacity: 100%;
      }
    }
  }
}
```

We've had layers as a concept in Tailwind for years, but native cascade layers can do things that we couldn't easily replicate at build-time, like isolating styles within a layer even if they have a higher specificity than styles in another layer. Less code for us to maintain too!

### Automatic source detection

You know how you always had to configure that annoying `content` array in Tailwind CSS v3? In v4.0, we came up with a bunch of heuristics for detecting all of that stuff automatically so you don't have to configure it at all.

For example, we automatically ignore anything in your `.gitignore` file to avoid scanning dependencies or generated files that aren't under version control:

```bash {{ filename: '.gitignore', style: 'framed', color: 'fuchsia' }}
# dependencies
/node_modules

# testing
/coverage

# caches
/.next/

# production
/build
```

We also automatically ignore all binary extensions like images, videos, .zip files, and more.

And if you ever need to explicitly add a source that's excluded by default, you can always add it with the `@source` directive, right in your CSS file:

```css {{ filename: 'app.css', style: 'framed', color: 'pink' }}
  @import "tailwindcss";
> @source "../node_modules/@my-company/ui-lib";
```

The `@source` directive uses the same heuristics under the hood, so it will exclude binary file types for example as well, without you having to specify all of the extensions to scan explicitly.

### Built-in import support

Before v4.0, if you wanted to inline other CSS files using `@import` you'd have to configure another plugin like `postcss-import` to handle it for you.

Now we handle this out of the box, so you don't need to include another plugin:

```diff-js {{ filename: 'postcss.config.mjs', style: 'framed', color: 'sky' }}
  export default {
    plugins: {
-     'postcss-import': {},
      '@tailwindcss/postcss': {},
    },
  };
```

Our import system is purpose-built for Tailwind CSS, so we've also been able to make it even faster by tightly integrating it with our engine.

### Built-in CSS transpilation

When building for production, Tailwind CSS v4.0 runs your CSS through [Lightning CSS](https://lightningcss.dev/) automatically, which handles things like vendor prefixes, modern feature transpilation, minification, and more.

This means you can remove tools like `autoprefixer` and `postcss-preset-env` from your project as well:

```diff-js {{ filename: 'postcss.config.mjs', style: 'framed', color: 'indigo' }}
  export default {
    plugins: {
      '@tailwindcss/postcss': {},
-     'postcss-preset-env': {},
-     'autoprefixer': {},
    },
  };
```

In v4.0, Tailwind CSS is the only thing you need to set up to handle your entire CSS pipeline — no other tooling required.

### Simplified theme configuration

In v4.0, we've really slimmed down the amount of theme configuration you need to do, especially for things that aren't really design tokens.

Utilities like `grid-cols-12`, `z-40`, and `opacity-70` are no longer based on your theme — they just work. Whether you need a 5 column grid or a 73 column grid, you don't need to configure anything to make it happen.

```html
<div class="grid **grid-cols-73**">
  <div>1</div>
  <!-- ... -->
  <div>73</div>
</div>
```

We've applied the same simplifications to variants like `data-*` as well — you don't need to configure these at all anymore or use arbitrary values for simple boolean attributes:

```diff-html
- <div class="opacity-50 **data-[selected]:opacity-100**" data-selected>
+ <div class="opacity-50 **data-selected:opacity-100**" data-selected>
    <!-- ... -->
  </div>
```

These changes mean you touch your theme configuration way less frequently, and it stays focused on the design tokens that matter, like your typography, color palette, and breakpoints.

### Dynamic spacing scale

We've simplified the way spacing utilities like `px-*`, `mt-*`, `w-*`, `h-*`, and more work by deriving them all from a single spacing scale value, defined as `0.25rem` in the default theme:

```css
@theme {
  --spacing: 0.25rem;
}
```

When you define your spacing scale this way, every multiple of `0.25rem` is available in your spacing scale. This means utilities like `mt-21` will work with no extra configuration, unlike in v3 where you had to choose between `mt-20` and `mt-24` or drop down to using an arbitrary value.

And if you want more constraints, you can always disable the `--spacing` variable and provide your own explicit scale:

```css
@theme {
  --spacing: initial
  --spacing-1: 0.25rem
  --spacing-2: 0.5rem
  --spacing-4: 1rem
  --spacing-8: 2rem
  --spacing-12: 3rem
}
```

### Modernized P3 color palette

We've upgraded the entire default color palette from `rgb` to `oklch`, taking advantage of the wider gamut to make the colors more vivid in places where we were previously limited by the sRGB color space.

<div>
  <ColorPalette/>
</div>

We've tried to keep the balance between all the colors the same as it was in v3, so even though we've refreshed things across the board, it shouldn't feel like a breaking change when upgrading your existing projects.

### Simplified variable colors

If you were using CSS variables in your color palette in v3, you might remember having to do weird things like define your colors as just a list of numbers without including the `rgb(…)` function, or having to use the `<alpha-value>` placeholder so that opacity modifiers would work.

Thanks to the new CSS [`color-mix(…)` function](https://developer.mozilla.org/en-US/docs/Web/CSS/color_value/color-mix), none of that is necessary in v4.0 — you just define your colors as variables and all of the opacity modifier features work automatically:

```css  {{ filename: 'app.css', style: 'framed', color: 'purple' }}
@import "tailwindcss";

@theme {
  --color-primary: var(--color-blue-500);
  --color-error: var(--color-red-500);

  /* ... */
}
```

Now when you go to use a utility like `bg-primary/50`, it just works — no cryptic workarounds necessary:

```html  {{ filename: 'HTML', style: 'framed', color: 'fuchsia' }}
<div class="bg-primary/50">
  <!-- ... -->
</div>
```

### Container query support

We've brought container query support into core for v4.0, so you don't need the `@tailwindcss/container-queries` plugin anymore:

```html  {{ filename: 'HTML', style: 'framed', color: 'pink' }}
<div class="@container">
  <div class="grid grid-cols-1 @sm:grid-cols-3 @lg:grid-cols-4">
    <!-- ... -->
  </div>
</div>
```

We've also added support for max-width container queries using the new `@max-*` variant:

```html  {{ filename: 'HTML', style: 'framed', color: 'sky' }}
<div class="@container">
  <div class="grid grid-cols-3 @max-md:grid-cols-1">
    <!-- ... -->
  </div>
</div>
```

Like our regular breakpoint variants, you can also stack `@min-*` and `@max-*` variants to define container query ranges:

```html  {{ filename: 'HTML', style: 'framed', color: 'indigo' }}
<div class="@container">
  <div class="flex @min-md:@max-xl:hidden">
    <!-- ... -->
  </div>
</div>
```

Browser support for container queries is [really great](https://caniuse.com/css-container-queries) now, and I'm excited to make it even easier to start using them in your projects in v4.0.

### 3D transforms

We've finally added APIs for doing 3D transforms, like `rotate-x-*`, `rotate-y-*`, `scale-z-*`, `translate-z-*`, and tons more.

{/* Demo here */}

Use the `transform-3d` utility to enable 3D transforms by setting the right `transform-style`:

```html
<div class="transform-3d">
  <!-- ... -->
</div>
```

Use the `rotate-x-*` and `rotate-y-*` utilities to rotate elements in 3D space:

```html
<div class="transform-3d rotate-x-45 rotate-y-90">
  <!-- ... -->
</div>
```

Use the `scale-z-*` utilities to scale elements on the z-axis:

```html
<div class="transform-3d scale-z-*">
  <!-- ... -->
</div>
```

Use `translate-z-*` to move elements closer or further away:

```html
<div class="transform-3d translate-z-*">
  <!-- ... -->
</div>
```

Use utilities like `perspective-near`, `perspective-normal`, and `perspective-distant` along with the new `perspective-origin-*` utilities to control the perspective used for 3D transforms:

```html
<div class="perspective-dramatic perspective-origin-top">
  <div class="transform-3d rotate-x-45 rotate-y-90">
    <!-- ... -->
  </div>
</div>
```

Then use the `backface-visible` and `backface-hidden` utilities to control an element's backface visibility:

```html
<div class="transform-3d rotate-x-45 rotate-y-90 backface-visible">
  <!-- ... -->
</div>
```


### Linear gradient angles

Linear gradients now support angles as values, so you can use utilities like `bg-linear-45` to create a gradient on a 45 degree angle:

```html {{ example: true }}
<div class="grid place-items-center">
  <div class="size-48 rounded-lg bg-[linear-gradient(45deg,theme(colors.indigo.500),theme(colors.purple.500),theme(colors.pink.500))]"></div>
</div>
```

You may notice we've renamed `bg-gradient-*` to `bg-linear-*` too — you'll see why shortly!


### Gradient interpolation modifiers

We've added the ability to control the color interpolation mode for gradients using a modifier, so a class like `bg-linear-to-r/srgb` inteprolates using sRGB, and `bg-linear-to-r/oklch` interpolates using OKLCH:

```html {{ example: true }}
<div class="grid grid-cols-1 gap-4">
  <div class="h-16 rounded-lg bg-[linear-gradient(in_srgb_to_right,theme(colors.indigo.500),theme(colors.teal.400))]"></div>
  <div class="h-16 rounded-lg bg-[linear-gradient(in_oklch_to_right,theme(colors.indigo.500),theme(colors.teal.400))]"></div>
</div>
```

```html
  <div class="bg-linear-to-r/srgb from-indigo-500 to-teal-400"></div>
  <div class="bg-linear-to-r/oklch from-indigo-500 to-teal-400"></div>
```

Using polar color spaces like OKLCH or HSL can lead to much more vivid gradients when the `from-*` and `to-*` colors are far apart on the color wheel. We're using OKLCH by default in v4.0 but you can always interpolate using a different color space by adding one of these modifiers.

### Conic and radial gradients

We've added new `bg-conic-*` and `bg-radial-*` utilities for creating conic and radial gradients:

```html {{ example: true }}
<div class="flex justify-around p-8">
  <div class="bg-[conic-gradient(in_hsl_longer_hue,theme(colors.red.600),theme(colors.red.600))]  size-24 rounded-full"></div>
  <div class="bg-[radial-gradient(at_25%_25%,white,theme(colors.zinc.900)_75%)] size-24 rounded-full"></div>
</div>
```

```html
<div class="bg-conic/[in_hsl_longer_hue] from-red-600 to-red-600 size-24 rounded-full"></div>
<div class="bg-radial-[at_25%_25%] from-white to-zinc-900 to-75% size-24 rounded-full"></div>
```

These new utilities work alongside the existing `from-*`, `via-*`, and `to-*` utilities to let you create conic and radial gradients the same way you create linear gradients, and include modifiers for setting the color interpolation method and arbitrary value support for controlling details like the gradient position.


### Inset shadows and rings

We've added dedicated `inset-shadow-*` and `inset-ring-*` utilities in v4.0 that can be composed with the existing `shadow-*` and `ring-*` utilities, giving you four layers of shadows you can stack to create the effects you need for your projects.


{/* https://x.com/adamwathan/status/1760787811605549159/photo/1 */}

```html
<div class="shadow-md ring inset-shadow-xs inset-ring">
  <!-- ... -->
</div>
```

The `inset-ring-*` utilities support any width value just like the `ring-*` utilities, and the `inset-shadow-*` utilities ship with `2xs`, `xs`, and `sm` sizes out of the box. We may add more down the road but those ones feel the most useful right now.

```css
@theme {
  --inset-shadow-2xs: inset 0 1px rgb(0 0 0 / 0.05);
  --inset-shadow-xs: inset 0 1px 1px rgb(0 0 0 / 0.05);
  --inset-shadow-sm: inset 0 2px 4px rgb(0 0 0 / 0.05);
}
```

Just like the regular `shadow-*` and `ring-*` utilities, these both support colors as well using classes like `inset-shadow-black/25` and `inset-ring-white/50`.

### \`field-sizing\` utilities

We've added utilities for the new `field-sizing` property that lets you create auto-resizing textareas with just CSS:

```html
<textarea class="field-sizing-content"></textarea>
```

Use `field-sizing-content` to make the control resize to fit its contents, or `field-sizing-fixed` to give the control a fixed size.

### \`color-scheme\` utilities

Ever been annoyed that your app was showing light scrollbars in dark mode? You want these new `color-scheme` utilities — here are all the new classes:

```html
<div class="scheme-normal">…</div>
<div class="scheme-dark">…</div>
<div class="scheme-light">…</div>
<div class="scheme-light-dark">…</div>
<div class="scheme-only-dark">…</div>
<div class="scheme-only-light">…</div>
```

Throw `scheme-light dark:scheme-dark` on your `html` or `body` element and your scrollbars will always look good, no matter which dark mode strategy you use.

### \`font-stretch\` utilities

We've added utilities for the new-ish `font-stretch` property, which helps you style variable fonts that support different widths:

```html
<div class="font-stretch-normal">...</div>
<div class="font-stretch-ultra-condensed">...</div>
<div class="font-stretch-extra-condensed">...</div>
<div class="font-stretch-condensed">...</div>
<div class="font-stretch-semi-condensed">...</div>
<div class="font-stretch-semi-expanded">...</div>
<div class="font-stretch-expanded">...</div>
<div class="font-stretch-extra-expanded">...</div>
<div class="font-stretch-ultra-expanded">...</div>
<div class="font-stretch-75%">...</div>
```

Looks like the name of this is changing to `font-width` at some point but no browsers actually support it yet, looking forward to dealing with that.

### Composable variants

In the new v4.0 engine, certain variants can be chained with other variants, letting you use simple named APIs for things that needed complex arbitrary variants in v3:

```diff-html
  <div class="group">
-   <div class="group-has-[&[data-potato]]:opacity-100">
+   <div class="group-has-data-potato:opacity-100">
      <!-- ... -->
    </div>
    <div data-potato>
      <!-- ... -->
    </div>
  </div>
```

This works with any variant where it makes sense, including `group-*`, `peer-*`, `has-*`, and the new `not-*` and `in-*` variants. You can chain as many of them as you want, so even totally useless classes like `group-not-has-peer-not-data-active:underline` will generate real CSS.

### \`@starting-style\` variant

The new `starting` variant adds support for the new CSS `@starting-style` feature, making it possible to transition element properties when an element is first displayed:

```html
<div>
  <button popovertarget="my-popover">Open Popover</button>
  <div popover id="my-popover" class="opacity-0 transition-all duration-500 [transition-behavior:allow-discrete] open:opacity-100 starting:open:opacity-0">
    <!-- ... -->
  </div>
</div>
```

### \`:not()\` variant

### \`inert\` variant

### \`nth-*\` variants

### \`:popover-open\` support

### \`in-*\` variant

### Descendant variant

- Simplified theme configuration
  - Bare values in variants (`data-potato` instead of `data-[potato]`)
  - Infinite spacing scale, grid columns/rows, opacities, z-index, scale transforms
  - Bare aspect-ratio values
- CSS variables for your theme
- Can override variants
- Heuristic-driven sorting so custom utilities sort more intuitively with built-in utilities
- Individual transforms


---

## CSS configuration in-depth

### Customizing your theme

### Configuring dark mode

### Adding content sources

### Disabling source detection

### Disabling Preflight

### Using a prefix

### Adding custom utilities

### Adding custom variants

### Using plugins

### Using legacy configuration files

---

## Breaking changes

### Dependency changes

### Removed \`@tailwind\` directives

### Removed deprecated utilities

### Configuring the \`container\` utility

### Default shadow scale changes

### Default blur scale changes

### Default radius scale changes

### Default border color change

### Default ring width change

### Default placeholder change

### \`outline-none\` to \`outline-hidden\`

### Adding custom utilities

### Simplified \`@apply\` behavior

### Stacking order-sensitive variants

### CSS variables in arbitrary values

### Referencing theme values in JS

### Hover styles ignored on mobile

### Core plugins cannot be disabled

### Using a JavaScript config file

- Not autodetected, need to use `@config`